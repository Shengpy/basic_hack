nc -vz 10.10.0.6 22
telnet ip port
https://hackmd.io/@CP04042K/SyBeBluis
netstat -tulpn  #check port are opening
netstat -ano | findstr LISTEN
tasklist /v | findstr <pid>    #find process are run which user
dir "CloudMe*" /s /b           #Tìm file cài đặt dựa trên tên file  /s subdirectory /s in ra dep
nc -zvw 3 <IP> <port>          #check port open or not (public)
#tiến trình k mở port ra internet thường có quyền cao
check inbound outbound
-----------------------------------port
ftp     21
ssh     22
smtp    25   
dns     53
pop3    110 
smb     135  netbios smb old version
smb     445
POP3S   995
mysql   3306
docker  2375
nvm-express 4420  netcat
redis   6379
GraphQL  80, 3000, 4000
------------------------------------ 
#tool for reset password   | default user: support
rpcclient -U support 10.10.10.192   #the next is input password
setuserinfo2 audit2020 23 'password1234!@'

sudo neo4j start

sudo openvpn --config <VPN_file>
-------------------------------------smtp
https://0xdf.gitlab.io/2022/10/29/htb-trick.html
nmap -p 25 --script=smtp-enum-users 10.10.11.166
smtp-user-enum -m VRFY -U /usr/share/seclists/Usernames/cirt-default-usernames.txt 10.10.11.166 25
-------------------------------------dns
https://0xdf.gitlab.io/2022/10/29/htb-trick.html
dig +noall +answer @10.10.11.166 -x 10.10.11.166
dig +noall +answer @10.10.11.166 axfr trick.htb
wfuzz -u http://10.10.11.166 -H "Host: FUZZ.trick.htb" -w /usr/share/seclists/Discovery/DNS/subdomains-top1million-5000.txt  #scan subdomain

dig @<ip> localhost     #find info DNS
dig +short -e chaos -t txt @"z.hackycorp.com" version.bind
dig txt key.z.hackycorp.com
(zone transfer)
dig axfr int @z.hackycorp.com
dnsrecon -d z.hackycorp.com -t axfr
#--------------------------------------------------------------mysql
mysql -h <Host> -u <username> -p
#mysql k dc thi dump database
https://viblo.asia/p/htb-write-up-magic-LzD5dgMEljY
mysqldump -u <username> -p <password> --all-databases     #dump database
#----------------------------------------------------------mongo
mongo <IP>
db.getMongo().getDBNames()
show collections
db.users.find()
#-----------------------------------------------------ssh
set up service
https://xuanthulab.net/cai-dat-dich-vu-ssh-tren-server-linux-va-windows.html

crackmapexec ssh 10.129.77.210 -u oxdf -p ~/Desktop/rockyou.txt

ssh-keygen -t rsa
ssh-keygen -y -f id_rsa
ssh sheng@192.168.1.14
#connect without passowrd
add public key client -> user authorized file
https://viperone.gitbook.io/pentest-everything/writeups/tryhackme/linux/cat-pictures
ssh -i <id_rsa> <usrname>@<IP>

openssl passwd <your_passwd>
openssl passwd -1 -salt demo passwd123
upload /etc/passwd  
ssh root@128.199.190.141 -p2223
ssh -i id_rsa medium3@localhost
ssh -L <your port>:<web IP target>:<web port target> ubuntu@team6.ascis.vn (port forwarding)
ssh -L 9000:10.254.6.2:4001 ubuntu@team6.ascis.vn
-> có thể access đến web ng khác thông qua port của chính mình http://127.0.0.1:9000 

https://unix.stackexchange.com/questions/106480/how-to-copy-files-from-one-machine-to-another-using-ssh
To copy a file from B to A while logged into B:
scp /path/to/file username@a:/path/to/destination
To copy a file from B to A while logged into A:
scp username@b:/path/to/file /path/to/destination
#-------------------------ftp
ftp <ip> <port>
ftp -p <ip> <port>
wget -r 'ftp://ftp_user:UTDRSCH53c"$6hys@10.10.10.59'  #download all things
#-----------------------SMB
enum4linux <IP>       #enumerating data from Windows and Samba hosts.
nmapAutomator.sh -H 192.168.66.42 -t vulns
nmapAutomator.sh -H 192.168.66.42 -t full
hydra -L user.txt -P pass.txt 192.168.1.101 smb     #brute force user
https://0xdf.gitlab.io/2018/10/27/htb-bounty.html   #start the smb service

Liệt kê các thư mục được chia sẻ
smbclient -L //<target_ip> -p <port> --user=<user>%<pass>
smbclient -L //10.10.10.134/ -N    #connect no user no pass
Kết nối đến một thư mục được chia sẻ
smbclient -L //<target_ip>/<folder> -p <port> --user=<user>%<pass>

smbclient -L //192.168.1.5/Mydata -U testusers

https://helich0pper.github.io/blackfield/
mount -t cifs //10.10.10.192/profiles$ /mnt/blackfield/  # CIFS (Common Internet File System) copy file to my folder
mount -t cifs //10.10.10.192/forensic /mnt/blackfield/ -o username=audit2020,password='password1234!@',domain=blackfield
----------------------------------GraphQL
https://0xdf.gitlab.io/2019/06/08/htb-help.html
https://book.hacktricks.xyz/network-services-pentesting/pentesting-web/graphql#querying
https://viblo.asia/p/graphql-hieu-de-hack-phan-1-Ny0VGjb0LPA
https://nhattruong.blog/2023/08/24/khai-thac-graphql-api/

https://github.com/opabravo/security-writeups/blob/main/ctf/2023-11-17%20Intigriti%201337up%20CTF%202023.md
#get more info about current user 
https://github.com/dolevf/graphw00f   #Fingerprinting
https://github.com/swisskyrepo/GraphQLmap
----------------------------------redis
https://hackmd.io/@CP04042K/SyyyUR5Go     #eval redis
https://book.hacktricks.xyz/network-services-pentesting/6379-pentesting-redis
https://viblo.asia/p/hackthebox-write-up-postman-bWrZnxRr5xw
sudo apt-get install redis-tools
redis-cli -h 10.10.10.160
10.10.10.160:6379> info
10.10.10.160:6379> CONFIG GET *
https://hackmd.io/@CP04042K/ryyqJeXx2#SpyBug   #lợi dụng các protocol như dict hay gopher để tương tác với nó
--------------------------------------------------------ansible
https://podalirius.net/en/writeups/heroctf-2021-devops-box-writeup/
------------------------------------------------------mongo
https://hackmd.io/@CP04042K/ryyqJeXx2#SpyBug
-------------------------------------------------gitlab
https://viblo.asia/p/redteam-0x01-lam-gi-khi-da-chiem-duoc-quyen-dieu-khien-he-thong-phan-1-source-code-management-E1XVOa8GJMz
---------------------------------------------port knocking
https://0xdf.gitlab.io/2018/09/22/htb-olympus.html#pivot-to-hades--olympus---shell-as-prometheus